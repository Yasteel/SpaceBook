@model Post

<link rel="stylesheet" type="text/css" href="~/css/main.css">


<div class="modal fade" id="uploadMediaModal" tabindex="-1" role="dialog" aria-labelledby="uploadMediaModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Create new post</h5>
                <button id="closeModal" type="button" data-bs-dismiss="modal">
                    <span class="close" aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="createPostForm" method="post" action="Create/Post" enctype="multipart/form-data">
                    <div class="col" id="mediaUpload">
                        <label asp-for="ImageFile">
                            <i class="fa fa-camera fa-lg" aria-hidden="true"></i>
                        </label>
                        <input class="inputFile" type="file" asp-for="ImageFile" onchange="handleImageUpload()" />
                    </div>
                    <div class="col" id="videoUpload">
                        <label asp-for="VideoFile">
                            <i class="fa fa-video-camera fa-lg" aria-hidden="true"></i>
                        </label>
                        <input class="inputFile" type="file" asp-for="VideoFile" onchange="handleVideoUpload()" />
                    </div>
                    <div class="col">
                        <input type="text" asp-for="Caption" placeholder="Share your thoughts. Add photos, videos or hashtags"/>
                        <label asp-for="AccessLevel">Share</label>

                        <select asp-for="AccessLevel" onchange="accessLevelChanged(value)">
                            <option value="public">public</option>
                            <option value="private">private</option>
                        </select>

                        <div id="dx-sharebox" style="display: none;">
                            @(Html.DevExtreme().TagBox()
                                .ID("ShareTagBox")
                                .DataSource(d => d.Mvc().Controller("ProfileApi").LoadAction("Get").Key("UserId"))
                                .DisplayExpr("Username")
                                .ValueExpr("UserId")
                                .Placeholder("Choose people to share with...")
                                )

                            @Html.HiddenFor(m => m.SharedIDs)
                        </div>
                    </div>
                   
                    <div id="imageBox" style="display: none;">
                        <img id="displayImage" src="" />
                    </div>
                    <div id="videoBox" style="display: none;">
                        <video id="displayVideo" src="" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <button type="submit">Share</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script src="~/js/pages/createPost.js"></script>


